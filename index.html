<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Winions Meme Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>body { margin: 0; padding: 0; background: #000; }</style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
const { useState } = React;

function WinionsMemeGenerator() {
  const [isGenerating, setIsGenerating] = useState(false);
  const [generatedMeme, setGeneratedMeme] = useState(null);
  const [currentMeme, setCurrentMeme] = useState(null);

  // Winion Visual DNA
  const winionDNA = "Small humanoid childlike figure, simple body tapering downward like cone or robe. Head is round and solid black with horns or ear-like shapes on top. Dense CRT scanlines, chromatic RGB separation with red/green/blue halos. Bright magenta/red or colored glowing cloak with three distinct horizontal color blocks on chest (yellow, green, blue rectangles). No realistic shading, purely emissive glow. All internal lighting, no external shadows. Black void background. 1980s broadcast signal aesthetic, low-resolution analog glow, corrupted mascot or holographic spirit feel. Minimalist but haunted. NO realism, NO feet visible, figure floats.";

  const popularMemes = [
    {
      name: 'Distracted Boyfriend',
      prompt: `Recreate the famous "Distracted Boyfriend" meme on a city street, but all three people are Winions. ${winionDNA} LEFT: Angry girlfriend Winion in red/pink glow walking away. CENTER: Boyfriend Winion in blue glow turning head to look back. RIGHT: Attractive Winion in green/cyan glow looking at camera. Urban sidewalk background. Exact distracted boyfriend meme composition and poses.`,
      text: { top: 'MY CURRENT NFT', middle: 'ME', bottom: 'NEW WINION DROP' }
    },
    {
      name: 'Drake Hotline Bling',
      prompt: `Recreate the famous "Drake Hotline Bling" meme with two stacked panels, but Drake is a Winion. ${winionDNA} TOP PANEL: Winion with hand raised saying no/rejecting, red glow, disapproving gesture. BOTTOM PANEL: Same Winion pointing and approving, green/cyan glow, happy gesture. Two horizontal split panels. Exact Drake meme composition.`,
      text: { top: 'REGULAR NFTS', bottom: 'WINIONS' }
    },
    {
      name: 'Woman Yelling at Cat',
      prompt: `Recreate the famous "Woman Yelling at Cat" meme at a dinner table, but both are Winions. ${winionDNA} LEFT SIDE: Angry Winion pointing and yelling, red/orange glow. RIGHT SIDE: Confused Winion sitting at table with plate of food, cyan glow, bewildered look. Split two-panel composition. Exact woman yelling at cat meme layout.`,
      text: { left: 'YOU SPENT HOW MUCH', right: 'ON WINIONS?' }
    },
    {
      name: 'Two Buttons',
      prompt: `Recreate the famous "Two Buttons" sweating choice meme, but the person is a Winion. ${winionDNA} TOP: Two big red buttons on control panel. BOTTOM: Stressed sweating Winion looking up at buttons, blue/purple glow, anxious pose. Exact two buttons meme composition and layout.`,
      text: { button1: 'SELL WINIONS', button2: 'HODL FOREVER' }
    },
    {
      name: 'This Is Fine',
      prompt: `Recreate the famous "This is Fine" dog meme with a room on fire, but the dog is a Winion. ${winionDNA} Winion sitting calmly at table with coffee cup, orange/red glow, wearing small hat. Room is on fire with flames everywhere but Winion is calm and content. Exact "This is Fine" meme composition.`,
      text: { top: 'FLOOR PRICE CRASHING', bottom: 'THIS IS FINE' }
    },
    {
      name: 'Expanding Brain',
      prompt: `Recreate the famous "Expanding Brain" meme with 4 levels, but all brains are Winions. ${winionDNA} Four stacked horizontal panels. Panel 1 (top): Small dim Winion. Panel 2: Slightly brighter Winion, blue glow. Panel 3: Very bright Winion, rainbow RGB glow. Panel 4 (bottom): Transcendent golden glowing Winion with maximum bloom. Backgrounds get more cosmic. Exact expanding brain meme layout.`,
      text: { lvl1: 'REGULAR ART', lvl2: 'DIGITAL ART', lvl3: 'NFTS', lvl4: 'WINIONS' }
    },
    {
      name: 'Spiderman Pointing',
      prompt: `Recreate the famous "Spiderman Pointing at Spiderman" meme, but both Spidermen are Winions. ${winionDNA} Two identical Winions facing each other, both pointing at each other accusingly, blue/cyan glows. Mirror confrontation pose. Exact Spiderman pointing meme composition.`,
      text: { left: 'WINION HOLDERS', right: 'OTHER WINION HOLDERS' }
    },
    {
      name: 'Is This a Pigeon',
      prompt: `Recreate the famous "Is This a Pigeon?" anime meme, but the person is a Winion. ${winionDNA} Winion standing on left looking at and pointing toward small glowing butterfly/object on right, confused expression, blue/purple glow. Exact "Is this a pigeon" meme composition and layout.`,
      text: { character: 'ME', object: 'ANY NFT', question: 'IS THIS A WINION?' }
    }
  ];

  const generateRandomMeme = async () => {
    setIsGenerating(true);
    try {
      const randomMeme = popularMemes[Math.floor(Math.random() * popularMemes.length)];
      setCurrentMeme(randomMeme);

      const response = await fetch('/api/generate', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ 
          prompt: randomMeme.prompt,
          style: 'meme'
        })
      });

      if (!response.ok) throw new Error('Failed to generate');
      
      const data = await response.json();
      const url = data.data[0]?.url;
      
      if (!url) throw new Error('No URL returned');
      
      setGeneratedMeme(url);
    } catch (error) {
      alert(error.message);
    } finally {
      setIsGenerating(false);
    }
  };

  return (
    <div className="min-h-screen bg-black text-white p-6">
      <div className="max-w-4xl mx-auto">
        <h1 className="text-5xl font-black mb-2 text-red-500 text-center">WINIONS MEME GENERATOR</h1>
        <p className="text-gray-400 text-center mb-8">Classic memes recreated with Winions</p>

        <div className="space-y-6">
          <div className="bg-gray-900 rounded-lg border border-gray-800 min-h-[600px] flex items-center justify-center p-4">
            {generatedMeme && currentMeme ? (
              <div className="w-full">
                <img src={generatedMeme} alt="Winion Meme" className="w-full h-auto rounded" />
              </div>
            ) : (
              <div className="text-center p-8">
                <p className="text-gray-400 text-xl mb-2">Click to generate</p>
                <p className="text-gray-600 text-sm">Random classic meme with Winions</p>
              </div>
            )}
          </div>

          <button
            onClick={generateRandomMeme}
            disabled={isGenerating}
            className="w-full bg-red-600 hover:bg-red-700 disabled:bg-gray-700 text-white font-black text-2xl py-6 px-8 rounded-lg transition-all"
          >
            {isGenerating ? '‚è≥ GENERATING MEME...' : 'üé≤ GENERATE RANDOM MEME'}
          </button>

          {currentMeme && (
            <div className="bg-gray-900 border border-gray-800 rounded-lg p-6">
              <h3 className="text-xl font-bold text-red-500 mb-3">MEME: {currentMeme.name}</h3>
              <div className="space-y-1 text-gray-300 text-sm">
                {Object.entries(currentMeme.text).map(([key, value]) => (
                  <p key={key}>‚Ä¢ {value}</p>
                ))}
              </div>
            </div>
          )}

          <div className="text-center">
            <a 
              href="https://winions.xyz" 
              target="_blank"
              className="inline-block bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-lg"
            >
              WINIONS.XYZ
            </a>
          </div>
        </div>
      </div>
    </div>
  );
}

ReactDOM.createRoot(document.getElementById('root')).render(<WinionsMemeGenerator />);
    </script>
</body>
</html>
